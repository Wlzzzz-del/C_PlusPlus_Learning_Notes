# 设计与声明
## 条款18：使接口被正确使用，不易被误用

+ "促进用户正确使用接口"的办法包括保持接口的一致性。
以C++的STL为例，所有容器的返回大小方法都是.size()。然而在JAVA等其他语言的库中，有.size()或者.length()混用的现象产生。
+ "阻止用户误用"的方法是 ***建立新类型、限制类型上的操作，束缚对象值***，消除客户的资源管理责任。
假设有如下类
```C++
class Date{
    int year;
    int month;
    int days;
};
```
对于月份来说，需要限制值处于1-12。对于天数来说，需要限制值处于1-31。可以使用enum来表示这些值，但貌似不建议这样做。可以使用类来限制取值。(见示例代码Date.cpp)
```C++
class YEAR{
private:
    int val;
public:
    explicit YEAR(int val):val(val){}// 加explicit防止类型转换，比如日可能转化成年？
};

class MONTH{
private:
    int val;
    explicit MONTH(int m);
public:
    static MONTH Jan(){return MONTH(1);}// 函数，并非类
    static MONTH Feb(){return MONTH(2);}
    /// ……
    static MONTH Dec(){return MONTH(12);}
};

class DAY{
private:
    int val;
public:
    explicit DAY(int val):val(val){}
};

class Date{
public:
    Date(YEAR year, MONTH month, DAY day):{}
private:
    YEAR year;
    MONTH month;
    DAY day;
}
```
在Date中可以如此调用
```C++
Date d(YEAR(2020),MONTH::Dec(),DAY(10));
```

+ shared_ptr支持定制删除器，可以防止DLL问题
### 什么是DLL问题？
一个对象在DLL中被创建，但在另一个DLL中被Delete。在许多平台上，跨DLL的new/delete成对使用会在运行时报错。